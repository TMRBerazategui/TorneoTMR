<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.lineicons.com/2.0/LineIcons.css">
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/styleZLComputer.css">
    <link rel="stylesheet" href="../css/styleZLPhone.css">
    <script src="https://cdn.lordicon.com/libs/mssddfmo/lord-icon-2.1.0.js"></script>

    <title>Zona</title>
    
    <script>
      var script_url = "https://script.google.com/macros/s/AKfycby-9RNbo1OmpmlDHb8YlQeT119UC17n86MdULbZ5zKFI3Jug50/exec";
  
  // print the returned data
  function ctrlq(e) {
  
  
  $("#loader").html(e.result);
  $("#loader").css("visibility","visible");
  read_value();
  
  }
  
  
  
  
  function read_value() {
  
  $("#re").css("visibility","hidden");
  $("#sponsor").css("display","none");
  
   document.getElementById("loader").style.visibility = "visible";
   document.getElementById("loader").style.height = "10vh";
  
  var url = script_url+"?action=read";
  
  $.getJSON(url, function (json) {
  
    // Set the variables from the results array
  
        // CREATE DYNAMIC TABLE.
        var table = document.createElement("table");
  
  
  
        var header = table.createTHead();
   
    var nro = "";
    var matriz = [];
    var jugadoresCant = 0 ;
    var w = 0 ;
        // ADD JSON DATA TO THE TABLE AS ROWS.
        for (var i = 1; i < json.records.length; i++) {
  
          if ( json.records[i-1].CATEGORIAS.includes('5ta') &&  json.records[i-1].PUNTAJETMT > -1 && w<36  ) {
  
            matriz [w]= [ json.records[i-1].NOMBRES , json.records[i-1].CLUB , json.records[i-1].PUNTAJETMT , ""];
            jugadoresCant= jugadoresCant+1;
            w++;
          }
          else{
            //no incluyen 1ra y no tienen puntaje un
          }
        }
        if(jugadoresCant>5){ 
          for (var j = 1; j < jugadoresCant+1; j++) {
            for (var k = 1; k < jugadoresCant+1; k++) {
              if(matriz[j-1][2]>matriz[k-1][2]){
                
                nro=matriz[j-1][0];
                matriz[j-1][0] = matriz[k-1][0];
                matriz[k-1][0] = nro;
  
                nro=matriz[j-1][1];
                matriz[j-1][1] = matriz[k-1][1];
                matriz[k-1][1] = nro;
  
                nro=matriz[j-1][2];
                matriz[j-1][2] = matriz[k-1][2];
                matriz[k-1][2] = nro;
  
              }
            }
          }
        }
        
  
        //var jugadoresCant = json.records.length - 1; //-1
        var zonasCant;
        
        var abecedario = ["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];
  
        if(jugadoresCant>5){
  
          zonasCant = Math.trunc(jugadoresCant/3);
        
          var contador = -1 ;
           
          for(var i = 0; i < jugadoresCant ; i++ ){
  
            if( -1 < i && i <  zonasCant ){
  
              contador++;
              matriz[i][3] = abecedario[contador];
  
            }
            else if( (zonasCant - 1) <  i && i < (zonasCant*2) ){
  
              matriz[i][3] = abecedario[contador];
              contador--;
  
            }
            else if( ((zonasCant*2) - 1) < i && i < (zonasCant*3) ){
  
              contador++;
              matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*3) - 1) < i && i < (zonasCant*4) ){
  
              matriz[i][3] = abecedario[contador];
              contador--;
  
            }
            else if( ((zonasCant*4) - 1) < i && i < (zonasCant*5) ){
  
              contador++;   
              matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*5) - 1) < i && i < (zonasCant*6) ){
  
              matriz[i][3] = abecedario[contador];
              contador--;
  
            }
            else if( ((zonasCant*6) - 1) < i && i < (zonasCant*7) ){
  
              contador++;   
              matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*7) - 1) < i && i  < (zonasCant*8)  ){
  
              matriz[i][3] = abecedario[contador];
              contador--;
  
            }
            else if( ((zonasCant*8) - 1) < i && i < (zonasCant*9) ){
  
              contador++;   
              matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*9) - 1) < i && i  < (zonasCant*10)  ){
  
              matriz[i][3] = abecedario[contador];
              contador--;
  
            }
            else if( ((zonasCant*10) - 1) < i && i < (zonasCant*11) ){
  
              contador++;   
              matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*11) - 1) < i && i < (zonasCant*12) ){
  
            contador++;   
            matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*12) - 1) < i && i < (zonasCant*13) ){
  
            contador++;   
            matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*13) - 1) < i && i < (zonasCant*14) ){
  
            contador++;   
            matriz[i][3] = abecedario[contador];
  
            }
            else if( ((zonasCant*14) - 1) < i && i < (zonasCant*15) ){
  
            contador++;   
            matriz[i][3] = abecedario[contador];
  
            }
  
          }
          
  
  
          for(var i = 0; i<zonasCant; i++){
  
  
            
            tr = table.insertRow(-1);
            var tabCell = tr.insertCell(-1);
            tabCell.innerHTML= ("<bdi> Zona " + abecedario[i]+ " Mesa "+ (i+1)+"</bdi>");
  
            for(var j = 0; j<jugadoresCant; j++){
  
              if( matriz[j][3] == (abecedario[i]) ){
  
                tr = table.insertRow(-1);
                var tabCell = tr.insertCell(-1);
                tabCell.innerHTML = matriz[j][0];
                tabCell = tr.insertCell(-1);
                tabCell.innerHTML = matriz[j][1];
                tabCell = tr.insertCell(-1);
                tabCell.innerHTML = (""+matriz[j][2]+" pts");
  
              }
  
            }
            
            tr = table.insertRow(-1);
            var tabCell = tr.insertCell(-1);
            tabCell.innerHTML= ("&nbsp");
            tabCell = tr.insertCell(-1);
            tabCell.innerHTML= ("&nbsp");
            
          }
  
  
  
        }
        else{
          alert("No se ha alcanzado la cantidad minima de participantes para realizar la categoria, cantidad de inscriptos: "+jugadoresCant);
        }
        // FINALLY ADD THE NEWLY CREATED TABLE WITH JSON DATA TO A CONTAINER.
        var divContainer = document.getElementById("showData");
        divContainer.innerHTML = "";
        divContainer.appendChild(table);
        document.getElementById("loader").style.visibility = "hidden";
    document.getElementById("loader").style.height = "0vh";
    document.getElementById("showData").style.marginBottom = "-8.5vh";



    $("#loader").css("visibility","visible");
    $("#loader").css("display","none");
    
    
    });
  }
    </script>
    <style>
      @font-face {
          font-family: "Gilroy";
          src: url("../Fonts/Gilroy-FREE/Gilroy-Light.otf");
        }
        @font-face {
        font-family: "GilroyEB";
        src: url("../Fonts/Gilroy-FREE/Gilroy-ExtraBold.otf");
      }
      table, th, td
      {
        
          margin:2vh 0;
         
          font:1.8vh "Gilroy";
      }
      td{
        text-align: left;
        padding:2vh 1vh;
      }
      th {
          font-weight:bold;
          font-family: 'Poppins';
      }
      thead{
        text-align: center;
      }
      bdi{
        font-size: 2.5vh;
        font-weight:bold;
        font-family: "GilroyEB";
      }
  #loader, #loader2 {
  visibility:hidden;
  }

  @media(min-width: 767px){
          table{
        
            color:#dfe0e2;
          }
  }
  
  </style>

</head>
<body>
    
    
  <div class="phoneContender">

    <div class="topborder">
      <div class="glass">
        
        <div class="contenedor menucomp">
          <div class="navbares">
              <img src="../photos/TMRLogoTransparente.png" class="logo">
              <nav>
                  <ul>
                      <li><a href="Inscribirme.html">Inscribirme</a></li>
                      <li><a href="MenuLis.html">Listado de Inscritos</a></li>
                      <li><a href="MenuZon.html">Sembrado de Zonas</a></li>
                      <li><a href="https://wa.link/4o7d77">Adquirir el Sistema</a></li>
                  </ul>
              </nav>
          </div>
        </div>

        <div class="encabeza2">
          <img src="../photos/TMRLogoTransparente.png" style=" filter: grayscale(50%); width: 20vh; height: 20vh; margin-top: 2vh; margin-bottom: 2vh;" class="controller">
          <p>Zonas <br> 5ta Categoria</p>
        </div>
        
      </div>
    </div>
    
    <div class="bottomborder">
      <div class="glass2">
        
        <div class="saitContent">
          <div align="center">
            <input id="b1" type="button" onclick="read_value()"class="btn" value="Ver Zonas" />
            <input id="final" type="button" onclick="read_value()"class="btn" style="display: none;" value="Actualizar Zonas" />
            <div id="showData"></div>
            <div id="loader"><img src="../photos/icons/loading.gif" alt="" style="height: 90px; width: 90px;"></div>
          </div>
        </div>
        
        <div class="container-fluid text-center auspi" style="margin-top: 5vh;">
          <h5 style="color:#b7b7b7; padding-top: 3vh;">Auspician:</h5>
          <div class="row justify-content-center align-items-center" style="margin-bottom:5vh">
            <div class="col-5 text-center">
              <a href="https://linktr.ee/donic.argentina">
                <img class="imgAus" src="../photos/donicLogo.png" alt="">
              </a>
            </div>
            <div class="col-5 text-center">
              <a href="https://www.almartenisdemesa.com.ar/">
                <img class="imgAus" src="../photos/almarLogo.png" alt="">
              </a>
            </div>
          </div>
    
          <div class="row justify-content-center align-items-center">
            <div class="col-4 text-center">
              <a href="https://www.instagram.com/soyludmicm/">
                <img class="imgAus2" src="../photos/soyLudmiLogo.png" alt="">
              </a>
            </div>
            <div class="col-4 text-center">
              <a href="https://www.facebook.com/supermercadomodelo1/">
                <img class="imgAus2 text-center" src="../photos/supermercadoModeloLogo.png" alt="">
              </a>
            </div>
            <div class="col-4 text-center">
              <a href="https://www.instagram.com/todo.visual/">
                <img class="imgAus2 text-center" src="../photos/todoVisualLogo.png" alt="">
              </a>
            </div>
          </div>
      </div>

        <section id="foot" class="footer">
          <p class="text"><a  href="https://wa.link/4o7d77">Si quiere adquirir el sistema haga click aqui</a></p>
          <p class="text">Diseño y desarrollo por Diego Simon</p>
        </section>

        <div class="navBottom">
          <nav>
              <ul><li><a href="../index.html"><i class="lni lni-home"></i></a></li></ul>
              <ul><li><a href="MenuLis.html"><i class="lni lni-radio-button"></i></a></li></ul>
              <ul><li><a href="Inscribirme.html"><i class="lni lni-circle-plus"></i></a></li></ul>
              <ul><li><a href="MenuZon.html" class="active"><i class='bx bx-sitemap'></i></a></li></ul>
              <ul><li><a href="FAQ.html"><i class="lni lni-question-circle"></i></a></li></ul>
              
              
              <div class="tubelight">
                      <div class="light-ray"></div>
                  </div>
          
          </nav>
        </div>
      </div>
    </div>
    
    
    
  </div>


    
    
    

    <script>

        console.clear();
        const uls = document.querySelectorAll("nav ul");
        const links = [...document.querySelectorAll("nav a")];
        const light = document.querySelector("nav .tubelight");
        let activeIndex = 0;
        let currentIndex = 0;
        let increment = 1;
        links.forEach((link, index) => 
        {
            if (links[index].classList.contains("active"))
            {
                light.style.left = `${links[index].offsetLeft + light.offsetWidth / 4}px`;
            }
            link.addEventListener("click", (e) => 
            {
                activeIndex = index;
                let t = setInterval(() => 
                {
                    if (activeIndex > currentIndex) increment = 1;
                    else if (activeIndex < currentIndex) increment = -1;
                    currentIndex += increment;
        
                    links[currentIndex].classList.add("active");
                    if (currentIndex != -1)
                        links[currentIndex - increment].classList.remove("active");
        
                    if (currentIndex == activeIndex) 
                    {
                        e.target.classList.add("active");
                        increment = 0;
                        clearInterval(t);
                    }
                }, 50);
                light.style.left = `${e.target.offsetLeft + light.offsetWidth / 4}px`;
            });
        });
        
        
        
        
    </script> 
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
        $("#b1").on('click', function() {
            $("#b1").hide();
            $("#final").show();
            return false;
        });
  
    });
    $(document).ready(function(){
        $(".b12").on('click', function() {
            $(".b12").hide();
            $(".final2").show();
            return false;
        });
  
    });
    </script>

</body>
</html>